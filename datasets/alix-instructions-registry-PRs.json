[
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 1,
    "comment_type": "review_comment",
    "author": "s1owjke",
    "path": "db/schema.prisma",
    "line": 26,
    "body": "Parent/child relations",
    "created_at": "2025-11-25T10:48:11Z",
    "resolved": true,
    "outdated": false,
    "context": "model Job {\n  id           String  @id @default(uuid())\n  key          String\n  version      String\n  parentJobKey String?\n\n  createdAt DateTime @default(now())\n\n  type            JobType\n  name            String\n  description     String?\n  executor        String\n  reviewer        String\n  preConditionId  String  @unique\n  postConditionId String  @unique\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 1,
    "comment_type": "review_comment",
    "author": "s1owjke",
    "path": "db/schema.prisma",
    "line": null,
    "body": "Composite key jobKey, jobVersion, environmentId\nUnique jobKey, environmentId",
    "created_at": "2025-11-25T10:49:01Z",
    "resolved": true,
    "outdated": true,
    "context": "model ActiveJobs {\n  jobKey        String\n  jobVersion    String\n  environmentId String\n\n  environment Environment @relation(fields: [environmentId], references: [id])\n  job         Job         @relation(fields: [jobKey, jobVersion], references: [key, version])\n\n  @@id([jobKey, jobVersion, environmentId])\n  @@unique([jobKey, environmentId])\n}\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_comment",
    "author": "cursor",
    "path": "backend/scripts/fix-generated-types.ts",
    "line": 154,
    "body": "Bug: fixPrismaOperations never called…",
    "created_at": "2025-12-12T15:14:03Z",
    "resolved": false,
    "outdated": false,
    "context": "        if (content.includes(\"where: args.where,\") && content.includes(\"create: {\")) {\n          return match.replace(\"});\", \"},\\n      },\\n    });\");\n        }\n        return match;\n      }\n    );\n  }\n  \n  return content;\n}\n\nfunction fixFile(filePath: string, specificFixes?: Fix[]): boolean {\n  try {\n    let content = readFileSync(filePath, \"utf-8\");\n    const originalContent = content;\n    const fileName = filePath.split(\"/\").pop() || \"\";\n    \n    // Apply specific fixes first\n    if (specificFixes) {\n      for (const fix of specificFixes) {\n        content = content.replace(fix.pattern, fix.replacement);\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_comment",
    "author": "Selnapenek",
    "path": "package-lock.json",
    "line": null,
    "body": "please don't use npm as package manager, use yarn",
    "created_at": "2025-12-12T16:52:37Z",
    "resolved": false,
    "outdated": false
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_comment",
    "author": "Selnapenek",
    "path": "frontend/src/pages/JobForm.tsx",
    "line": 15,
    "body": "we would prefer to use zod,could you please replace it",
    "created_at": "2025-12-12T16:53:44Z",
    "resolved": false,
    "outdated": false,
    "context": "import { useParams, useNavigate, Link } from \"react-router-dom\";\nimport { Formik, Form, Field } from \"formik\";\nimport {\n  Box,\n  Button,\n  TextField,\n  Typography,\n  MenuItem,\n  Card,\n  CardContent,\n  Grid,\n  Alert,\n} from \"@mui/material\";\nimport { ArrowBack } from \"@mui/icons-material\";\nimport * as Yup from \"yup\";\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { GET_JOB, CREATE_JOB, UPDATE_JOB } from \"../graphql/queries/jobs\";\nimport { GET_CONDITIONS } from \"../graphql/queries/conditions\";\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_comment",
    "author": "Selnapenek",
    "path": "frontend/src/pages/JobForm.tsx",
    "line": 49,
    "body": "there should be a generated typed mutation… did @s1owjke approve gql vs grpc?",
    "created_at": "2025-12-12T16:54:50Z",
    "resolved": false,
    "outdated": false,
    "context": "export default function JobForm() {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const isEdit = !!id;\n  const [error, setError] = useState<string | null>(null);\n\n  const { data: jobData, loading: loadingJob } = useQuery(GET_JOB, {\n    variables: { id },\n    skip: !isEdit,\n  });\n\n  const { data: conditionsData } = useQuery(GET_CONDITIONS, {\n    variables: { take: 100 },\n  });\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_comment",
    "author": "Selnapenek",
    "path": "frontend/src/pages/JobForm.tsx",
    "line": 121,
    "body": "move it on its own function `onSumbit={handleSubmit}`",
    "created_at": "2025-12-12T16:55:22Z",
    "resolved": false,
    "outdated": false,
    "context": "      <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 2, mb: 3 }}>\n        <Button component={Link} to={isEdit ? `/jobs/${id}` : \"/\"} startIcon={<ArrowBack />}>\n          Back\n        </Button>\n        <Typography variant=\"h4\" sx={{ flexGrow: 1 }}>\n          {isEdit ? \"Edit Job\" : \"Create Job\"}\n        </Typography>\n      </Box>\n\n      <Card>\n        <CardContent>\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError(null)}>\n              {error}\n            </Alert>\n          )}\n          <Formik\n            initialValues={initialValues}\n            validationSchema={validationSchema}\n            enableReinitialize\n            onSubmit={(values) => {\n              setError(null); // Clear any previous errors\n              const data = {\n                key: values.key,\n                version: values.version,\n                type: values.type,\n                name: values.name,\n                executor: values.executor,\n                reviewer: values.reviewer,\n                precondition: { connect: { id: values.preConditionId } },\n                postcondition: { connect: { id: values.postConditionId } },\n                ...(values.description && { description: values.description }),\n                ...(values.parentJobKey && { parentJobKey: values.parentJobKey }),\n              };\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_comment",
    "author": "Selnapenek",
    "path": "db/seeders/index.ts",
    "line": 33,
    "body": "could you please confirm we need it",
    "created_at": "2025-12-12T17:00:36Z",
    "resolved": false,
    "outdated": false,
    "context": "      create: {\n        id: 'env-prod',\n        name: 'Production',\n      },\n    }),\n  ]);\n\n  // Example job that represents an autonomous agent business flow.\n  const autonomousJobV1 = await prisma.job.upsert({\n    where: {\n      // The @@unique([key, version]) constraint is exposed as a compound unique\n      // where name \"<model>_<field>_<field>_key\".\n      key_version: {\n        key: 'autonomous_agent_flow',\n        version: '1.0.0',\n      },\n    },\n    update: {},\n    create: {\n      key: 'autonomous_agent_flow',\n      version: '1.0.0',\n      type: JobType.automated,\n      name: 'Autonomous Agent – Default Flow',\n      description:\n        'End-to-end autonomous agent flow with precondition checks, execution, and validation.',\n      executor: 'autonomous-agent',\n      reviewer: 'human-reviewer',\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_comment",
    "author": "Selnapenek",
    "path": "backend/src/index.ts",
    "line": 39,
    "body": "make similar like in alix/pull/140",
    "created_at": "2025-12-12T17:01:45Z",
    "resolved": false,
    "outdated": false,
    "context": "  fastify.register(fastifyFormbody);\n  fastify.register(multipartMiddleware);\n};\n\nconst registerGraphqlRoute = async (fastify: ReturnType<typeof Fastify>) => {\n  // Define armor to protect the schema\n  const armor = new ApolloArmor({\n    maxDepth: {\n      enabled: true,\n      n: 8,\n    },\n  });\n\n  const protection = armor.protect();\n\n  // Build GraphQL schema\n  const schema = await buildSchema({\n    resolvers,\n    validate: { forbidUnknownValues: false },\n    authChecker,\n  });\n\n  const server = new ApolloServer<Awaited<ReturnType<typeof createContext>>>({\n    schema,\n    ...protection,\n    plugins: [...protection.plugins, loggerPlugin, fastifyApolloDrainPlugin(fastify)],\n    cache: \"bounded\",\n    introspection: config.ENABLE_INTROSPECTION,\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_body",
    "author": "Selnapenek",
    "state": "COMMENTED",
    "created_at": "2025-12-12T16:55:22Z"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_body",
    "author": "Selnapenek",
    "state": "COMMENTED",
    "created_at": "2025-12-12T17:00:37Z"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 4,
    "comment_type": "review_body",
    "author": "Selnapenek",
    "state": "COMMENTED",
    "created_at": "2025-12-12T17:05:13Z"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "nasekajlo",
    "path": "frontend/src/pages/JobsList.tsx",
    "line": 122,
    "body": "what if jobs.length === 0? maybe show No jobs found",
    "created_at": "2025-12-16T21:13:12Z",
    "resolved": false,
    "outdated": false,
    "context": "            Next\n          </Button>\n        </Box>\n      )}\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "nasekajlo",
    "path": "client/vite.config.ts",
    "line": 11,
    "body": "env-based API URL, better to read from env",
    "created_at": "2025-12-16T21:15:28Z",
    "resolved": false,
    "outdated": false,
    "context": "export default defineConfig({\n  plugins: [react()],\n  server: {\n    port: 3000,\n    proxy: {\n      \"/trpc\": {\n        target: process.env.VITE_BACKEND_URL || \"http://localhost:3001\",\n        changeOrigin: true,\n      },\n    },\n  },\n});\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "nasekajlo",
    "path": "frontend/src/pages/JobsList.tsx",
    "line": null,
    "body": "date formatting: use Intl.DateTimeFormat…",
    "created_at": "2025-12-16T21:18:31Z",
    "resolved": false,
    "outdated": true
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "nasekajlo",
    "path": "frontend/src/pages/JobsList.tsx",
    "line": null,
    "body": "virtualization (optional): consider @tanstack/react-virtual",
    "created_at": "2025-12-16T21:20:05Z",
    "resolved": false,
    "outdated": true
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "nasekajlo",
    "path": "frontend/src/contexts/AuthContext.tsx",
    "line": null,
    "body": "what if auth token expired? global 401 handling to auto-logout",
    "created_at": "2025-12-16T21:21:23Z",
    "resolved": false,
    "outdated": true,
    "context": "export function AuthProvider({ children }: { children: ReactNode }) {\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(() => {\n    return !!localStorage.getItem(\"authToken\");\n  });\n\n  // Listen for storage changes (e.g., when login happens in another tab)\n  useEffect(() => {\n    const handleStorageChange = () => {\n      setIsAuthenticated(!!localStorage.getItem(\"authToken\"));\n    };\n\n    window.addEventListener(\"storage\", handleStorageChange);\n    return () => window.removeEventListener(\"storage\", handleStorageChange);\n  }, []);\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "nasekajlo",
    "path": "client/src/utils/trpc.ts",
    "line": 3,
    "body": "move tRPC types to shared package?",
    "created_at": "2025-12-16T21:23:38Z",
    "resolved": false,
    "outdated": false,
    "context": "import { createTRPCReact } from \"@trpc/react-query\";\nimport type { AppRouter } from \"@alix/instructions-registry-shared\";\n\nexport const trpc = createTRPCReact<AppRouter>();\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "nasekajlo",
    "path": "frontend/src/pages/JobsList.tsx",
    "line": null,
    "body": "don’t use jobs.length < pageSize to decide next page; need hasMore/total",
    "created_at": "2025-12-16T21:28:30Z",
    "resolved": false,
    "outdated": true
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "eugeneantonevich",
    "path": "api/src/config.ts",
    "line": 7,
    "body": "you can verify jwt token with public key. the link to this key should be stored in jwt token … sorry, the service is emitter of the token. then it's fine",
    "created_at": "2025-12-17T15:09:09Z",
    "resolved": true,
    "outdated": false,
    "context": "const configSchema = z.object({\n  NODE_ENV: z.enum([\"development\", \"production\", \"test\"]).default(\"development\"),\n  PORT: z.string().default(\"3001\"),\n  DATABASE_URL: z.string(),\n  JWT_SECRET: z.string().default(\"your-secret-key-change-in-production\"),\n  MASTER_TOKEN: z.string().optional(), // Master token for CI/CD and service accounts\n});\n\nexport const config = configSchema.parse(process.env);\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "eugeneantonevich",
    "path": "backend/src/index.ts",
    "line": null,
    "body": "why do we use such import? … we can pass prisma as an argument",
    "created_at": "2025-12-17T15:09:42Z",
    "resolved": false,
    "outdated": true,
    "context": "import \"dotenv/config\";\nimport \"reflect-metadata\";\nimport { randomUUID } from \"crypto\";\nimport { ApolloServer } from \"@apollo/server\";\nimport apolloFastify, { fastifyApolloDrainPlugin } from \"@as-integrations/fastify\";\nimport { ApolloArmor } from \"@escape.tech/graphql-armor\";\nimport corsMiddleware from \"@fastify/cors\";\nimport multipartMiddleware from \"@fastify/multipart\";\nimport fastifyFormbody from \"@fastify/formbody\";\nimport Fastify from \"fastify\";\nimport { processRequest } from \"graphql-upload-ts\";\nimport { buildSchema } from \"type-graphql\";\nimport { resolvers } from \"./graphql/index.js\";\nimport { createContext } from \"./context.js\";\nimport { authChecker } from \"./graphql/types/auth-checker.js\";\nimport { logger, loggerPlugin } from \"./utils/logger.js\";\nimport { config } from \"./config.js\";\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "beardfaceguy",
    "path": "README.md",
    "line": 185,
    "body": "db name mismatch vs .env.example; LLMs may get confused",
    "created_at": "2025-12-19T00:04:19Z",
    "resolved": false,
    "outdated": false,
    "context": "JWT_SECRET=your-secret-key-change-in-production\n# Optional: Master token for CI/CD and service accounts (e.g., GitHub Actions)\nMASTER_TOKEN=your-master-token-here\n```\n\n### Client (.env in client directory)\n\n```env\n# API URL\n# In development, this is used by Vite proxy\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_comment",
    "author": "s1owjke",
    "path": "api/src/utils/logger.ts",
    "line": 3,
    "body": "Please replace it with pino",
    "created_at": "2025-12-19T15:21:31Z",
    "resolved": false,
    "outdated": false,
    "context": "import winston from \"winston\";\n\nexport const logger = winston.createLogger({\n  level: process.env.LOG_LEVEL || \"info\",\n  format: winston.format.combine(winston.format.timestamp(), winston.format.errors({ stack: true }), winston.format.json()),\n  defaultMeta: { service: \"instructions-registry-api\" },\n  transports: [\n    new winston.transports.Console({\n      format: winston.format.combine(winston.format.colorize(), winston.format.simple()),\n    }),\n  ],\n});\n"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_body",
    "author": "nasekajlo",
    "state": "DISMISSED",
    "created_at": "2025-12-16T21:28:41Z"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_body",
    "author": "eugeneantonevich",
    "state": "COMMENTED",
    "created_at": "2025-12-17T15:09:09Z"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_body",
    "author": "beardfaceguy",
    "state": "COMMENTED",
    "created_at": "2025-12-19T00:06:01Z"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "review_body",
    "author": "s1owjke",
    "state": "COMMENTED",
    "created_at": "2025-12-19T15:21:36Z"
  },
  {
    "repo": "meetalix/alix-instructions-registry",
    "pr": 5,
    "comment_type": "issue_comment",
    "author": "eugeneantonevich",
    "body": "do we need to support master token? for example, if we need to create release from github action",
    "created_at": "2025-12-17T15:21:11Z"
  }
]

